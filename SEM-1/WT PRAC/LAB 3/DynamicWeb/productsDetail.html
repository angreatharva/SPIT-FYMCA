<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Product Details</title>
    <link rel="stylesheet" href="style.css" />
    <link
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    rel="stylesheet"
  />
  </head>
  <body>
    <header>
      <div class="logo-container">
        <img src="img/brand_logo.png" alt="Brand Logo" />
        <p id="jdi">JUST DO IT!</p>
      </div>

      <!-- <nav class="nav-menu">

        <p class="header-item">
          <a
            href="#products"
            style="text-decoration: none; color: #000; font-weight: 500"
            >Products</a
          >
        </p>
        <p class="header-item">
          <a
            href="#outlets"
            style="text-decoration: none; color: #000; font-weight: 500"
            >Outlets</a
          >
        </p>
        <p class="header-item">
          <a
            href="#contactUs"
            style="text-decoration: none; color: #000; font-weight: 500"
            >Contact</a
          >
        </p>
      </nav> -->

      <div class="cart-wishlist">
        <button id="wishlistbtn">
          <a href="favouritePage.html">
          <i class="fa fa-heart" style="font-size:26px;color: #000;"></i>
          </a>
        </button>
        <button id="cartbtn">
          <a href="bagPage.html">
          <img id="cart"src="img/shopping bag.png" ></img>
        </a>
        </button>
      </div>
    </header>
    
    <div id="productDetails">
    
      <div>
        <img id="productImage" src="" alt="Product Image" style="width: 280px;" />
      </div>
      <div>
        <h2 id="productName"></h2>
        <p id="productDescription"></p>
        <p id="productPrice"></p>
        <br>

        <div id="tax">
          <p>Inclusive of all taxes</p>
          <p>(Also includes all applicable duties)</p>
        </div>

        <br>

        <div id="addToBagBtn" onclick="addToBag()">
          Add to bag
        </div>
        <br>
        <div id="favouriteBtn" onclick="addToFavorites()">
          Favourite
        </div>
        
      </div>
     
    </div>

<div style="display: flex; justify-content: space-evenly;">
    <!-- description -->
    <div id="shoeDescription">
    </div>
    <!-- Shoe Size -->
  <div id="sizeDiv">
  <div id="sizeRow">
    <div class="shoeSize" onclick="selectSize(this, 'UK 6')">
      <p>UK 6</p>
    </div>
    <div class="shoeSize" onclick="selectSize(this, 'UK 6.5')">
      <p>UK 6.5</p>
    </div>
    <div class="shoeSize" onclick="selectSize(this, 'UK 7')">
      <p>UK 7</p>
    </div>
  </div>
  <br>
  <div id="sizeRow">
    <div class="shoeSize" onclick="selectSize(this, 'UK 7.5')">
      <p>UK 7.5</p>
    </div>
    <div class="shoeSize" onclick="selectSize(this, 'UK 8')">
      <p>UK 8</p>
    </div>
    <div class="shoeSize" onclick="selectSize(this, 'UK 8.5')">
      <p>UK 8.5</p>
    </div>
  </div>
  <br>
  <div id="sizeRow">
    <div class="shoeSize" onclick="selectSize(this, 'UK 9')">
      <p>UK 9</p>
    </div>
    <div class="shoeSize" onclick="selectSize(this, 'UK 9.5')">
      <p>UK 9.5</p>
    </div>
    <div class="shoeSize" onclick="selectSize(this, 'UK 10')">
      <p>UK 10</p>
    </div>
  </div>
  <br>
  <div id="sizeRow">
    <div class="shoeSize" onclick="selectSize(this, 'UK 11')">
      <p>UK 11</p>
    </div>
    <div class="shoeSize" onclick="selectSize(this, 'UK 11.5')">
      <p>UK 11.5</p>
    </div>
    <div class="shoeSize" onclick="selectSize(this, 'UK 12')">
      <p>UK 12</p>
    </div>
  </div>
  </div>
</div>
      <script src="script.js"></script>
      <script>
        // Fetch product details based on product ID
        async function fetchProductDetails() {
            const productId = localStorage.getItem("productId");
            if (!productId) {
                console.error("Product ID not found.");
                return;
            }
            console.log(`ProductId getItem: ${productId}`);
            const response = await fetch(`server.php?fetch_product_details&id=${productId}`);
            const product = await response.json();
            
    
            // Log the entire product object
            console.log(product); 
    
            // Access the product properties with the correct case
            console.log(`ProductId: ${product.Id}`);
            console.log(`Name: ${product.name}`);
            console.log(`Image: ${product.img}`);
            console.log(`Description Small: ${product.smallDesc}`);
            console.log(`Description Long: ${product.longDesc}`);
            console.log(`Price: ${product.price}`);
    
            // Update the page with product details
            document.getElementById("productName").innerText = product.name;
            document.getElementById("productImage").src = product.img; // Adjust path if necessary
            document.getElementById("productDescription").innerText = product.smallDesc;
            document.getElementById("shoeDescription").innerText = product.longDesc;
            document.getElementById("productPrice").innerText = `MRP: â‚¹ ${product.price}`;
        }
    
        // Call on page load
        window.onload = fetchProductDetails;
    </script>

  </body>
</html>
